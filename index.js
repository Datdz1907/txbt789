const _0x58f27e=_0x44c7;(function(_0x2d984e,_0x133357){const _0x29b3ce=_0x44c7,_0x1b1de3=_0x2d984e();while(!![]){try{const _0x22a61a=-parseInt(_0x29b3ce(0x97))/0x1+parseInt(_0x29b3ce(0x9d))/0x2*(parseInt(_0x29b3ce(0x74))/0x3)+parseInt(_0x29b3ce(0x81))/0x4+-parseInt(_0x29b3ce(0x91))/0x5*(-parseInt(_0x29b3ce(0x80))/0x6)+parseInt(_0x29b3ce(0x79))/0x7+-parseInt(_0x29b3ce(0xa7))/0x8*(-parseInt(_0x29b3ce(0xa0))/0x9)+-parseInt(_0x29b3ce(0x84))/0xa;if(_0x22a61a===_0x133357)break;else _0x1b1de3['push'](_0x1b1de3['shift']());}catch(_0x3a38ce){_0x1b1de3['push'](_0x1b1de3['shift']());}}}(_0x1fce,0x55995));import _0x57079d from'express';import _0x9ae6be from'ws';import _0x477b0f from'cors';import _0xb490e2 from'fs';import _0x1b7cf4 from'brain.js';const WS_URL=_0x58f27e(0x71),HANDSHAKE=[0x1,_0x58f27e(0x9b),_0x58f27e(0x73),_0x58f27e(0x77),{'signature':_0x58f27e(0x76),'info':{'cs':_0x58f27e(0x6d),'phone':_0x58f27e(0x7f),'ipAddress':_0x58f27e(0x8e),'isMerchant':![],'userId':_0x58f27e(0x9f),'deviceId':_0x58f27e(0x99),'isMktAccount':![],'username':_0x58f27e(0x73),'timestamp':0x1986ab04599},'pid':0x4}],net=new _0x1b7cf4[(_0x58f27e(0x7d))]({'hiddenLayers':[0x8,0x8]});function convertSequence(_0x4ae33e){const _0x3de5c4=_0x58f27e;return _0x4ae33e[_0x3de5c4(0x9a)](_0xeedd36=>_0xeedd36==='T'?0x1:0x0);}function trainModel(){const _0x56c489=_0x58f27e;if(!_0xb490e2[_0x56c489(0x8a)](_0x56c489(0x96))){console[_0x56c489(0xa4)](_0x56c489(0xa8));return;}const _0x391779=_0xb490e2[_0x56c489(0x89)](_0x56c489(0x96),_0x56c489(0x6b))[_0x56c489(0x78)](/\s+/g,''),_0x29337f=[];for(let _0x8594c=0x0;_0x8594c<_0x391779['length']-0x5;_0x8594c++){const _0x56c6a0=_0x391779['slice'](_0x8594c,_0x8594c+0x4)[_0x56c489(0x88)]('')[_0x56c489(0x9a)](_0x1b9b9c=>_0x1b9b9c==='T'?0x1:0x0),_0x2e7649=_0x391779[_0x8594c+0x4]==='T'?{'T':0x1}:{'X':0x1};_0x29337f['push']({'input':_0x56c6a0,'output':_0x2e7649});}console['log'](_0x56c489(0x6e)+_0x29337f[_0x56c489(0x70)]+'\x20mẫu...'),net[_0x56c489(0x8b)](_0x29337f,{'log':!![],'logPeriod':0x64,'iterations':0xc8}),console[_0x56c489(0xa4)](_0x56c489(0x98));}function duDoanAI(_0x5e0b8a){const _0x4912ea=_0x58f27e;if(_0x5e0b8a[_0x4912ea(0x70)]<0x4)return{'ketqua':Math[_0x4912ea(0xa2)]()>0.5?_0x4912ea(0x6c):'Xỉu','method':_0x4912ea(0xa2)};const _0x1115d8=convertSequence(_0x5e0b8a[_0x4912ea(0x69)](-0x4)),_0x46e8c7=net[_0x4912ea(0x7a)](_0x1115d8),_0x48c23e=_0x46e8c7['T']>_0x46e8c7['X']?_0x4912ea(0x6c):_0x4912ea(0x7e);return{'ketqua':_0x48c23e,'method':'AI'};}trainModel();let lastResult=null,lichSuKetQua=[],thongKe={'Tai':0x0,'Xiu':0x0};function _0x44c7(_0x4d9ecc,_0x1a4594){const _0x1fce3e=_0x1fce();return _0x44c7=function(_0x44c723,_0x52bc61){_0x44c723=_0x44c723-0x69;let _0x51e0cc=_0x1fce3e[_0x44c723];return _0x51e0cc;},_0x44c7(_0x4d9ecc,_0x1a4594);}function handleResult(_0x3efbda){const _0x35781b=_0x58f27e,_0x20f637=_0x3efbda['rS'],_0x5311b0=_0x20f637['match'](/#(\d+)/);if(!_0x5311b0)return;const _0x38fe57=parseInt(_0x5311b0[0x1]),_0x140892=_0x3efbda['d1'],_0x392c34=_0x3efbda['d2'],_0x3612d1=_0x3efbda['d3'],_0x37a327=_0x140892+_0x392c34+_0x3612d1,_0x2e1a3b=_0x37a327>=0xb?'Tài':_0x35781b(0x7e);lichSuKetQua['push'](_0x2e1a3b===_0x35781b(0x6c)?'T':'X');if(lichSuKetQua[_0x35781b(0x70)]>0x3e8)lichSuKetQua['shift']();const _0x5ad2a4=duDoanAI(lichSuKetQua);lastResult={'phien':_0x38fe57,'xuc_xac_1':_0x140892,'xuc_xac_2':_0x392c34,'xuc_xac_3':_0x3612d1,'tong':_0x37a327,'ket_qua':_0x2e1a3b,'du_doan':_0x5ad2a4['ketqua'],'method':_0x5ad2a4[_0x35781b(0x95)]},console[_0x35781b(0xa4)](_0x35781b(0x92),lastResult);if(_0x2e1a3b===_0x5ad2a4[_0x35781b(0xa9)]){if(_0x2e1a3b===_0x35781b(0x6c))thongKe['Tai']++;else thongKe[_0x35781b(0x72)]++;}console['log'](_0x35781b(0x86)+thongKe[_0x35781b(0x90)]+_0x35781b(0x87)+thongKe[_0x35781b(0x72)]);}function startPing(_0x5e0e11){setInterval(()=>{const _0x41b09a=_0x44c7,_0x2e224c=[0x7,_0x41b09a(0x9b),0x8,Date['now']()];_0x5e0e11[_0x41b09a(0x93)](JSON[_0x41b09a(0x83)](_0x2e224c));},0x1388);}function connectWS(){const _0x4f6381=_0x58f27e,_0x371803=new _0x9ae6be(WS_URL);_0x371803['on'](_0x4f6381(0x9e),()=>{const _0x35d449=_0x4f6381;console[_0x35d449(0xa4)](_0x35d449(0x7b)),_0x371803['send'](JSON['stringify'](HANDSHAKE)),setTimeout(()=>{const _0x260a9e=_0x35d449,_0x11cb6b=[0x6,'MiniGame',_0x260a9e(0x82),{'cmd':0x451}];_0x371803[_0x260a9e(0x93)](JSON[_0x260a9e(0x83)](_0x11cb6b)),console['log']('Join\x20room\x20taixiuMd5Plugin\x20sent');},0x3e8),startPing(_0x371803);}),_0x371803['on'](_0x4f6381(0xa1),_0x258a02=>{const _0x1d2519=_0x4f6381;try{const _0x3970b0=JSON['parse'](_0x258a02);Array[_0x1d2519(0x8d)](_0x3970b0)&&typeof _0x3970b0[0x1]===_0x1d2519(0xa5)&&(_0x3970b0[0x1][_0x1d2519(0x7c)]===0x44f&&handleResult(_0x3970b0[0x1]));}catch{}}),_0x371803['on']('close',()=>{const _0x35ca41=_0x4f6381;console[_0x35ca41(0xa4)]('WebSocket\x20closed,\x20reconnecting\x20in\x205s...'),setTimeout(connectWS,0x1388);}),_0x371803['on'](_0x4f6381(0x6f),_0x3a7d3c=>{const _0x460f2b=_0x4f6381;console[_0x460f2b(0xa4)]('WebSocket\x20error:',_0x3a7d3c);});}connectWS();function _0x1fce(){const _0x474994=['isArray','42.118.191.0','/api/ketqua','Tai','2195TCJdhO','Cập\x20nhật\x20dữ\x20liệu:','send','get','method','pattern.txt','310388bsFRrM','Huấn\x20luyện\x20xong!','250165605115165151486041589641432','map','MiniGame','use','524dkbPvA','open','0a86bd85-4d3e-45fe-8f6c-63b11182183e','426294VCfoov','message','random','env','log','object','API\x20server\x20running\x20at\x20http://localhost:','48bglmip','Không\x20tìm\x20thấy\x20pattern.txt,\x20dùng\x20random.','ketqua','slice','listen','utf8','Tài','691e2414a8aa35421716e5b014f768fa','Đang\x20huấn\x20luyện\x20với\x20','error','length','wss://api.apibit.net/websocket?d=YW5CaGJXeGthMjA9fDI0ODl8MTc1NDEzNzM4OTUwOHw5OWMwNGQ5Zjg4YmZhOTE5MjgxMDI5NDgxODdhMWZkZXwzM2U5OGVjMDRmYWU4MTY5MzBmYjZjMjk1NjQ5MjE5MQ==','Xiu','syncho01','4584aTGuGt','PORT','62AEDD3AB10F6AC303898BB1763937212B4BD5DB6B07BB1DC9281391282AAA2BFA79DB7423B5F707974CDB0F327C0B92FAE80796A2DE20FFDB578FEE1459861E5B417D99CE8B6F91EFBFC8A19511F4A248E598A3695190EF7F99E7140D5BF51A519119429DC0A38E644ED8C14423F39411D4CC88C675A8E3989144BCB1586C73','Ledat1907@','replace','4390449MMFTCF','run','WebSocket\x20connected,\x20sending\x20handshake...','cmd','NeuralNetwork','Xỉu','84968239523','2058BNCcTS','979576OwPmyM','taixiuMd5Plugin','stringify','10462090cERkGJ','json','Thống\x20kê:\x20Tài\x20=\x20','\x20|\x20Xỉu\x20=\x20','split','readFileSync','existsSync','train','chưa\x20có\x20dữ\x20liệu'];_0x1fce=function(){return _0x474994;};return _0x1fce();}const app=_0x57079d();app[_0x58f27e(0x9c)](_0x477b0f()),app[_0x58f27e(0x94)](_0x58f27e(0x8f),(_0x3818ba,_0x12fe01)=>{const _0x2f9bce=_0x58f27e;lastResult?_0x12fe01['json'](lastResult):_0x12fe01[_0x2f9bce(0x85)]({'status':_0x2f9bce(0x8c)});});const PORT=process[_0x58f27e(0xa3)][_0x58f27e(0x75)]||0x2af8;app[_0x58f27e(0x6a)](PORT,()=>{const _0x5ef003=_0x58f27e;console['log'](_0x5ef003(0xa6)+PORT);});

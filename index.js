const _0x3d9724=_0x1614;(function(_0x21b1ce,_0x2bd72f){const _0x52bd56=_0x1614,_0x17a2f8=_0x21b1ce();while(!![]){try{const _0xb8ecac=parseInt(_0x52bd56(0x128))/0x1*(-parseInt(_0x52bd56(0x105))/0x2)+parseInt(_0x52bd56(0x107))/0x3+parseInt(_0x52bd56(0xf5))/0x4+parseInt(_0x52bd56(0x114))/0x5+-parseInt(_0x52bd56(0x115))/0x6*(-parseInt(_0x52bd56(0x126))/0x7)+parseInt(_0x52bd56(0x11e))/0x8+-parseInt(_0x52bd56(0x10f))/0x9;if(_0xb8ecac===_0x2bd72f)break;else _0x17a2f8['push'](_0x17a2f8['shift']());}catch(_0x4046b1){_0x17a2f8['push'](_0x17a2f8['shift']());}}}(_0x3229,0x25556));import _0xcd52ce from'express';import _0x45c275 from'ws';import _0x52d883 from'cors';import _0x4c19c8 from'fs';import _0x5d6b9c from'brain.js';const WS_URL=_0x3d9724(0x113),HANDSHAKE=[0x1,_0x3d9724(0x109),_0x3d9724(0xf7),'Ledat1907@',{'signature':_0x3d9724(0xf8),'info':{'cs':'691e2414a8aa35421716e5b014f768fa','phone':'84968239523','ipAddress':_0x3d9724(0x118),'isMerchant':![],'userId':_0x3d9724(0x100),'deviceId':'250165605115165151486041589641432','isMktAccount':![],'username':_0x3d9724(0xf7),'timestamp':0x1986ab04599},'pid':0x4}],net=new _0x5d6b9c['NeuralNetwork']({'hiddenLayers':[0x8,0x8]});function convertSequence(_0x4a68b5){return _0x4a68b5['map'](_0x2e4da4=>_0x2e4da4==='T'?0x1:0x0);}function trainModel(){const _0x302488=_0x3d9724;if(!_0x4c19c8['existsSync'](_0x302488(0x125))){console[_0x302488(0xfe)](_0x302488(0x111));return;}const _0x329187=_0x4c19c8[_0x302488(0x104)](_0x302488(0x125),_0x302488(0x10d))[_0x302488(0x102)](/\s+/g,''),_0x5425ed=[];for(let _0x1e97e2=0x0;_0x1e97e2<_0x329187[_0x302488(0x10e)]-0x5;_0x1e97e2++){const _0x5bf6f8=_0x329187['slice'](_0x1e97e2,_0x1e97e2+0x4)[_0x302488(0xfa)]('')[_0x302488(0x124)](_0x5ab51d=>_0x5ab51d==='T'?0x1:0x0),_0x5274d9=_0x329187[_0x1e97e2+0x4]==='T'?{'T':0x1}:{'X':0x1};_0x5425ed[_0x302488(0x116)]({'input':_0x5bf6f8,'output':_0x5274d9});}console[_0x302488(0xfe)](_0x302488(0x110)+_0x5425ed[_0x302488(0x10e)]+_0x302488(0x112)),net['train'](_0x5425ed,{'log':!![],'logPeriod':0x64,'iterations':0xc8}),console[_0x302488(0xfe)](_0x302488(0x11b));}function duDoanAI(_0x248590){const _0x514c6a=_0x3d9724;if(_0x248590['length']<0x4)return{'ketqua':Math[_0x514c6a(0x10c)]()>0.5?'Tài':'Xỉu','method':_0x514c6a(0x10c)};const _0x837e0=convertSequence(_0x248590['slice'](-0x4)),_0xd19b31=net['run'](_0x837e0),_0x4145ff=_0xd19b31['T']>_0xd19b31['X']?_0x514c6a(0xf3):_0x514c6a(0x119);return{'ketqua':_0x4145ff,'method':'AI'};}trainModel();let lastResult=null,lichSuKetQua=[],thongKe={'Tai':0x0,'Xiu':0x0};function handleResult(_0x21f958){const _0x41f3b1=_0x3d9724,_0x80953a=_0x21f958['rS'],_0x3b5fb4=_0x80953a[_0x41f3b1(0x129)](/#(\d+)/);if(!_0x3b5fb4)return;const _0x4651eb=parseInt(_0x3b5fb4[0x1]),_0x86f078=_0x21f958['d1'],_0x5af4d5=_0x21f958['d2'],_0x390dc1=_0x21f958['d3'],_0x39a7e1=_0x86f078+_0x5af4d5+_0x390dc1,_0x5f349f=_0x39a7e1>=0xb?_0x41f3b1(0xf3):_0x41f3b1(0x119);lichSuKetQua['push'](_0x5f349f===_0x41f3b1(0xf3)?'T':'X');if(lichSuKetQua['length']>0x3e8)lichSuKetQua[_0x41f3b1(0x127)]();const _0x39f5b4=duDoanAI(lichSuKetQua);lastResult={'phien':_0x4651eb,'xuc_xac_1':_0x86f078,'xuc_xac_2':_0x5af4d5,'xuc_xac_3':_0x390dc1,'tong':_0x39a7e1,'ket_qua':_0x5f349f,'du_doan':_0x39f5b4[_0x41f3b1(0x11f)],'method':_0x39f5b4['method']},console[_0x41f3b1(0xfe)](_0x41f3b1(0xff),lastResult);if(_0x5f349f===_0x39f5b4[_0x41f3b1(0x11f)]){if(_0x5f349f==='Tài')thongKe['Tai']++;else thongKe[_0x41f3b1(0xf9)]++;}console[_0x41f3b1(0xfe)](_0x41f3b1(0x108)+thongKe['Tai']+'\x20|\x20Xỉu\x20=\x20'+thongKe[_0x41f3b1(0xf9)]);}function _0x1614(_0x229b36,_0x3290ca){const _0x32292e=_0x3229();return _0x1614=function(_0x16143e,_0x53e2fd){_0x16143e=_0x16143e-0xf1;let _0x45fd30=_0x32292e[_0x16143e];return _0x45fd30;},_0x1614(_0x229b36,_0x3290ca);}function startPing(_0x320738){setInterval(()=>{const _0x4579ab=_0x1614,_0x34ba07=[0x7,_0x4579ab(0x109),0x8,Date[_0x4579ab(0x10b)]()];_0x320738[_0x4579ab(0xf2)](JSON[_0x4579ab(0xfd)](_0x34ba07));},0x1388);}function connectWS(){const _0x3f58f1=_0x3d9724,_0x1e37a3=new _0x45c275(WS_URL);_0x1e37a3['on'](_0x3f58f1(0xfc),()=>{const _0x21fecd=_0x3f58f1;console['log'](_0x21fecd(0xf1)),_0x1e37a3[_0x21fecd(0xf2)](JSON[_0x21fecd(0xfd)](HANDSHAKE)),setTimeout(()=>{const _0xb0f78b=_0x21fecd,_0x4bdf08=[0x6,_0xb0f78b(0x109),'taixiuMd5Plugin',{'cmd':0x451}];_0x1e37a3[_0xb0f78b(0xf2)](JSON[_0xb0f78b(0xfd)](_0x4bdf08)),console['log'](_0xb0f78b(0xfb));},0x3e8),startPing(_0x1e37a3);}),_0x1e37a3['on'](_0x3f58f1(0x11a),_0x1fe64d=>{const _0x4dc797=_0x3f58f1;try{const _0x5d6426=JSON[_0x4dc797(0x11d)](_0x1fe64d);Array[_0x4dc797(0x122)](_0x5d6426)&&typeof _0x5d6426[0x1]===_0x4dc797(0x103)&&(_0x5d6426[0x1]['cmd']===0x44f&&handleResult(_0x5d6426[0x1]));}catch{}}),_0x1e37a3['on'](_0x3f58f1(0x117),()=>{const _0x260f94=_0x3f58f1;console[_0x260f94(0xfe)](_0x260f94(0x121)),setTimeout(connectWS,0x1388);}),_0x1e37a3['on']('error',_0x336f4d=>{const _0x5ddbc3=_0x3f58f1;console['log'](_0x5ddbc3(0xf4),_0x336f4d);});}connectWS();const app=_0xcd52ce();function _0x3229(){const _0x2d35b6=['now','random','utf8','length','6302403HRTStk','Đang\x20huấn\x20luyện\x20với\x20','Không\x20tìm\x20thấy\x20pattern.txt,\x20dùng\x20random.','\x20mẫu...','wss://api.apibit.net/websocket?d=YW5CaGJXeGthMjA9fDI0ODl8MTc1NDEzNzM4OTUwOHw5OWMwNGQ5Zjg4YmZhOTE5MjgxMDI5NDgxODdhMWZkZXwzM2U5OGVjMDRmYWU4MTY5MzBmYjZjMjk1NjQ5MjE5MQ==','666950gJVMOG','6zzSylo','push','close','42.118.191.0','Xỉu','message','Huấn\x20luyện\x20xong!','/api/ketqua','parse','787136SRIYpz','ketqua','chưa\x20có\x20dữ\x20liệu','WebSocket\x20closed,\x20reconnecting\x20in\x205s...','isArray','json','map','pattern.txt','1646505yWUbYG','shift','5877cyDhgu','match','listen','WebSocket\x20connected,\x20sending\x20handshake...','send','Tài','WebSocket\x20error:','792740WOrkUz','use','syncho01','62AEDD3AB10F6AC303898BB1763937212B4BD5DB6B07BB1DC9281391282AAA2BFA79DB7423B5F707974CDB0F327C0B92FAE80796A2DE20FFDB578FEE1459861E5B417D99CE8B6F91EFBFC8A19511F4A248E598A3695190EF7F99E7140D5BF51A519119429DC0A38E644ED8C14423F39411D4CC88C675A8E3989144BCB1586C73','Xiu','split','Join\x20room\x20taixiuMd5Plugin\x20sent','open','stringify','log','Cập\x20nhật\x20dữ\x20liệu:','0a86bd85-4d3e-45fe-8f6c-63b11182183e','get','replace','object','readFileSync','28yDRTwW','API\x20server\x20running\x20at\x20http://localhost:','810843vKonOx','Thống\x20kê:\x20Tài\x20=\x20','MiniGame','PORT'];_0x3229=function(){return _0x2d35b6;};return _0x3229();}app[_0x3d9724(0xf6)](_0x52d883()),app[_0x3d9724(0x101)](_0x3d9724(0x11c),(_0x208937,_0x4b581d)=>{const _0x25a7c1=_0x3d9724;lastResult?_0x4b581d['json'](lastResult):_0x4b581d[_0x25a7c1(0x123)]({'status':_0x25a7c1(0x120)});});const PORT=process['env'][_0x3d9724(0x10a)]||0x2af8;app[_0x3d9724(0x12a)](PORT,()=>{const _0x215559=_0x3d9724;console['log'](_0x215559(0x106)+PORT);});
